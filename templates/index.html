{{ template "_header.html" }}
<main>
  <div class="last-updated"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#646464" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><circle cx="128" cy="128" r="96" fill="none" stroke="#646464" stroke-miterlimit="10" stroke-width="16"></circle><polyline points="128 72 128 128 184 128" fill="none" stroke="#646464" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline></svg> Last updated {{ .LastUpdated }}</div>
  <table class="servers">
    <tbody>
    {{ range $row := .Servers }}
    <tr>
      <td class="server-status">
        {{ if $row.Status.IsOnline.Valid }}
          {{ if $row.Status.IsOnline.Bool }}
            ✅
          {{ else }}
            ❌
          {{ end }}
        {{ else }}
          ⁉️
        {{ end }}
      </td>
      <td class="server-name"><a href="/statuses/{{ $row.ID }}">{{ $row.Name }}</a></td>
      <td class="server-bars">
        <div class="bars">
          {{ range $uptime := $row.Uptime }}
            <div class="bar-container"
            data-tippy-content="<div><strong>{{ $uptime.Date }}</strong></div><div>Uptime: {{ $uptime.UptimeFmt }}%</div><div>Mean: {{ $uptime.RTTMean }} ms</div><div>Range: {{$uptime.RTTMin}}-{{$uptime.RTTMax}} ms</div><div>N: {{ $uptime.N }}</div>">
              <i class="bar {{ $uptime.UptimeClass }}" style="height: {{ $uptime.Uptime }}%;"></i>
            </div>
          {{ end }}
          </div>
        </td>
      </tr>
    {{ end }}
    </tbody>
  </table>
  <div class="source-info">
    <p>List sourced from <a href="https://github.com/acresources/serverslist">acresources/serverslist</a>.</p>
  </div>
</main>
{{ template "_footer.html" }}
